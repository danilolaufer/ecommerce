{{#if user.firstName}}
<div class="d-flex justify-content-between m-4">
<h1 class="">Welcome {{user.firstName}}</h1>
<div>
    <a href="/session/logout" class="m-4" >
<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-box-arrow-left" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M6 12.5a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 1-1 0v-2A1.5 1.5 0 0 1 6.5 2h8A1.5 1.5 0 0 1 16 3.5v9a1.5 1.5 0 0 1-1.5 1.5h-8A1.5 1.5 0 0 1 5 12.5v-2a.5.5 0 0 1 1 0v2z"/>
  <path fill-rule="evenodd" d="M.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L1.707 7.5H10.5a.5.5 0 0 1 0 1H1.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"/>
</svg>
</a>
<a id="{{user.cart}}" href="/cart/{{user.cart}}" class="userCart m-4" >
<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-cart" viewBox="0 0 16 16">
  <path d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l1.313 7h8.17l1.313-7H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
</svg>
</a>
</div>
</div>
{{/if}}
<h1 class="display-3 text-center">Products list</h1>
<div class="m-5" id="bodyRT">
    <div id="products">
        <nav aria-label="Page navigation example">
            <ul class="pagination justify-content-center">
                {{#if pagination.hasPrevPage}}
                <li class="page-item">
                    <a class="page-link m-2" href="/products?page={{pagination.prevPage}}" aria-label="Previous">
                        <span aria-hidden="true">&laquo;</span>
                    </a>
                </li>
                <li class="page-item"><a class="page-link m-2"
                        href="/products?page={{pagination.prevPage}}">{{pagination.prevPage}}</a></li>
                {{/if}}
                <li class="page-item"><a class="page-link border border-warning m-2" href="#">{{pagination.page}}</a>
                </li>
                {{#if pagination.hasNextPage}}
                <li class="page-item"><a class="page-link m-2"
                        href="/products?page={{pagination.nextPage}}">{{pagination.nextPage}}</a></li>
                <li class="page-item">
                    <a class="page-link m-2" href="/products?page={{pagination.nextPage}}" aria-label="Next">
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
                {{/if}}
            </ul>
        </nav>
        {{#if products}}
        <div class=" row border border-info justify-content-center p-4" id="dynamicProducts">

            {{#each products }}

            <div id="{{this._id}}" class=" justify-content-center col-4 card m-1" style="width: 20%;">
                <img src='{{this.thumbnail}}' width="40%" class="card-img-top" alt="...">
                <div class="card-body">
                    <h4 class="card-title">{{this.title}}</h4>
                    <p class="card-text">{{this.description}}</p>
                    <h5 class="card-title text-center">$ {{this.price}}</h5>
                    <h5 class="card-title">stock: {{this.stock}} unid.</h5>
               
                    <button class="btn btn-primary btn-lg btn-block " onclick="addProductToCart('{{this._id}}')">Add To
                        Cart</button>
                 
                </div>
            </div>

            {{/each}}


        </div>

        {{else}}
        <div class="text-center">
            <span class="">Cargando...</span>
            <div class="spinner-border" role="status">

                <span class="sr-only"></span>
            </div>
        </div>
        {{/if}}

    </div>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="/js/loggedproducts.js"></script>